(function(n){n.superscrollorama=function(t){function y(){s.scroll(function(){h=!0});TweenLite.ticker.addEventListener("tick",p)}function l(n){var t={top:parseFloat(n.css("top")),left:parseFloat(n.css("left"))};return isNaN(t.top)&&(t.top=0),isNaN(t.left)&&(t.left=0),t}function p(){h&&(v(),h=!1)}function a(n){n.el.css("position",n.origPositioning.pos);n.el.css("top",n.origPositioning.top);n.el.css("left",n.origPositioning.left)}function f(n,t){n&&(n.totalProgress?n.totalProgress(t).pause():n.progress(t).pause())}function v(){for(var v=i.settings.isVertical?s.scrollTop()+r.y:s.scrollLeft()+r.x,ft=i.settings.triggerAtCenter?i.settings.isVertical?-s.height()/2:-s.width()/2:0,c,w,ct=e.length,it,g,et,t,y,ot,st,k,nt,rt,ut,d,ht,p=0;p<ct;p++){var h=e[p],b=h.target,tt=h.offset;if(typeof b=="string"){o=n(b).offset();try{c=i.settings.isVertical?o.top+r.y:o.left+r.x;tt+=ft}catch(lt){}}else typeof b=="number"?c=b:n.isFunction(b)?c=b.call(this):(o=b.offset(),c=i.settings.isVertical?o.top+r.y:o.left+r.x,tt+=ft);c+=tt;w=c+h.dur;v>c&&v<w&&h.state!=="TWEENING"&&(h.state="TWEENING",h.start=c,h.end=w);v<c&&h.state!=="BEFORE"&&h.reverse?(i.settings.playoutAnimations||h.dur===0?h.tween.reverse():f(h.tween,0),h.state="BEFORE"):v>w&&h.state!=="AFTER"?(i.settings.playoutAnimations||h.dur===0?h.tween.play():f(h.tween,1),h.state="AFTER"):h.state==="TWEENING"&&(it=!1,h.tween.repeat&&(it=h.tween.repeat()===-1),it?(g=h.tween.totalProgress(),(h.playeadLastPosition===null||g===h.playeadLastPosition)&&(g===1?h.tween.yoyo()?h.tween.reverse():h.tween.totalProgress(0).play():h.tween.play()),h.playeadLastPosition=g):f(h.tween,(v-h.start)/(h.end-h.start)))}for(et=u.length,p=0;p<et;p++){if(t=u[p],y=t.el,t.state!=="PINNED"&&(t.state==="UPDATE"&&a(t),c=i.settings.isVertical?t.spacer.offset().top+r.y:t.spacer.offset().left+r.x,c+=t.offset,w=c+t.dur,ot=v>w&&t.state==="BEFORE"||v<c&&t.state==="AFTER",st=v>c&&v<w,st||ot)){if(t.pushFollowers&&y.css("position")==="static"&&y.css("position","relative"),t.origPositioning={pos:y.css("position"),top:t.spacer.css("top"),left:t.spacer.css("left")},t.fixedPositioning={top:i.settings.isVertical?-t.offset:t.spacer.offset().top,left:i.settings.isVertical?t.spacer.offset().left:-t.offset},y.css("position","fixed"),y.css("top",t.fixedPositioning.top),y.css("left",t.fixedPositioning.left),t.pinStart=c,t.pinEnd=w,t.pushFollowers?i.settings.isVertical?t.spacer.height(t.dur+y.outerHeight()):t.spacer.width(t.dur+y.outerWidth()):t.origPositioning.pos==="absolute"?(t.spacer.width(0),t.spacer.height(0)):i.settings.isVertical?t.spacer.height(y.outerHeight()):t.spacer.width(y.outerWidth()),t.state==="UPDATE")t.anim&&f(t.anim,0);else if(t.onPin)t.onPin(t.state==="AFTER");t.state="PINNED"}if(t.state==="PINNED")if(v<t.pinStart||v>t.pinEnd){if(k=v<t.pinStart,t.state=k?"BEFORE":"AFTER",f(t.anim,k?0:1),nt=k?0:t.dur,i.settings.isVertical?t.spacer.height(t.pushFollowers?nt:0):t.spacer.width(t.pushFollowers?nt:0),rt=t.fixedPositioning.top-l(t.el).top,ut=t.fixedPositioning.left-l(t.el).left,a(t),t.pushFollowers&&t.origPositioning.pos!=="absolute"||(t.origPositioning.pos==="relative"?(d=i.settings.isVertical?parseFloat(t.origPositioning.top):parseFloat(t.origPositioning.left),isNaN(d)&&(d=0)):d=i.settings.isVertical?t.spacer.position().top:t.spacer.position().left,ht=i.settings.isVertical?"top":"left",t.el.css(ht,d+nt)),rt!==0&&t.el.css("top",l(t.el).top-rt),ut!==0&&t.el.css("left",l(t.el).left-ut),t.onUnpin)t.onUnpin(!k)}else t.anim&&f(t.anim,(v-t.pinStart)/(t.pinEnd-t.pinStart))}}var i=this;i.settings=n.extend({},{isVertical:!0,triggerAtCenter:!0,playoutAnimations:!0,reverse:!0},t);var s=n(window),e=[],u=[],r={x:0,y:0},h=!1,o,c;return i.addTween=function(n,t,r,u,f){return t.pause(),e.push({target:n,tween:t,offset:u||0,dur:r||0,reverse:typeof f!="undefined"?f:i.settings.reverse,state:"BEFORE"}),i},i.pin=function(t,r,f){var o,e;return typeof t=="string"&&(t=n(t)),o={offset:0,pushFollowers:!0},f=n.extend({},o,f),f.anim&&f.anim.pause(),e=n('<div class="superscrollorama-pin-spacer"><\/div>'),e.css("position","relative"),e.css("top",t.css("top")),e.css("left",t.css("left")),t.before(e),u.push({el:t,state:"BEFORE",dur:r,offset:f.offset,anim:f.anim,pushFollowers:f.pushFollowers,spacer:e,onPin:f.onPin,onUnpin:f.onUnpin}),i},i.updatePin=function(t,r,f){var o,e;for(typeof t=="string"&&(t=n(t)),f.anim&&f.anim.pause(),o=u.length,c=0;c<o;c++)e=u[c],t.get(0)===e.el.get(0)&&(r&&(e.dur=r),f.anim&&(e.anim=f.anim),f.offset&&(e.offset=f.offset),typeof f.pushFollowers!="undefined"&&(e.pushFollowers=f.pushFollowers),f.onPin&&(e.onPin=f.onPin),f.onUnpin&&(e.onUnpin=f.onUnpin),(r||f.anim||f.offset)&&e.state==="PINNED"&&(e.state="UPDATE",v()));return i},i.removeTween=function(n,t,r){var s=e.length,u,o;for(typeof r=="undefined"&&(r=!0),u=0;u<s;u++)o=e[u],o.target!==n||t&&o.tween!==t||(e.splice(u,1),r&&f(o.tween,0),s--,u--);return i},i.removePin=function(t,r){var s,e,o;for(typeof t=="string"&&(t=n(t)),typeof r=="undefined"&&(r=!0),s=u.length,e=0;e<s;e++)o=u[e],o.el.is(t)&&(u.splice(e,1),r&&(o.spacer.remove(),a(o),o.anim&&f(o.anim,0)),s--,e--);return i},i.setScrollContainerOffset=function(n,t){return r.x=n,r.y=t,i},i.triggerCheckAnim=function(n){return n?v():h=!0,i},y(),i}})(jQuery);
/*
//# sourceMappingURL=jquery.min.js.map
*/